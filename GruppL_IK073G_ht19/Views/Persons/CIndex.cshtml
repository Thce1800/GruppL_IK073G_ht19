@model IEnumerable<GruppL_IK073G_ht19.Models.Persons>

@{
    ViewBag.Title = "CIndex";
    <link rel="stylesheet" type="text/css" href="~/Content/PersonSearch.css">

}

<h2>Här kan du se de frilansare som söker en uppdragsgivare just nu:</h2>


<table class="table">
    <tr>
        <th>
            Förnamn
        </th>
        <th>
            Efternamn
        </th>
        <th>
            Adress
        </th>
        <th>
            Telefonnummer
        </th>
        <th>
            E-post
        </th>
        <th>
            Födelsedatum
        </th>
        <th>
            Nationalitet
        </th>
        <th>
            Körkort
        </th>
        <th>
            Beskrivning
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.FirstName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.LastName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Adress)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Phonenumber)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Email)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Birthdate)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Nationality)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Driver_license)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Profile_text)
            </td>
            <td>

                @Html.ActionLink("Visa profil", "CDetails", new { id = item.Person_id })

            </td>
        </tr>
    }

</table>

<div class="container2">
    <input class="search-input" type="search" placeholder="Sök här..." id="site-search">

    <div class="suggestions">

    </div>
</div>

<script>
    const searches = [
        { name: "Programmerare" },
        { name: "Grafiskdesigner" },
        { name: "Projektledare" },
        { name: "C#" },
        { name: "Java" },
        { name: "Python" },
        { name: "Photoshop" },
        { name: "Adobe Xd" },
        { name: "Mockups" },
        { name: "Officepaketet" },
        { name: "Trello" },
        { name: "Miro" },
    ];

    const searchInput = document.querySelector(".search-input");
    const suggestionsPanel = document.querySelector(".suggestions");

    searchInput.addEventListener("keyup", function ()
    {
        const input = searchInput.value;

        suggestionsPanel.innerHTML = "";
        const suggestions = searches.filter(function (search) {
            return search.name.toLowerCase().startsWith(input);
        });
        suggestions.forEach(function (suggested)
        {
            const div = document.createElement("div");
            div.innerHTML = suggested.name;
            suggestionsPanel.appendChild(div);

        });
        if (input == "")
        {
            suggestionsPanel.innerHTML = "";
        }

    })
</script>

@*<button>Sök</button>*@